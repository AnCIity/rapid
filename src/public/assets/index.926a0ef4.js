var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,n=Object.getOwnPropertySymbols,r=Object.prototype.propertyIsEnumerable,a=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,l=(e,l)=>{for(var s in l||(l={}))t.call(l,s)&&a(e,s,l[s]);if(n)for(var s of n(l))r.call(l,s)&&a(e,s,l[s]);return e};import{W as s,R as o,a as c,b as i,c as m,H as u,S as p}from"./vendor.acb8f53a.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const r=new URL(e,location),a=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,l)=>{const s=new URL(e,r);if(self[t].moduleMap[s])return n(self[t].moduleMap[s]);const o=new Blob([`import * as m from '${s}';`,`${t}.moduleMap['${s}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(o),onerror(){l(new Error(`Failed to import: ${e}`)),a(c)},onload(){n(self[t].moduleMap[s]),a(c)}});document.head.appendChild(c)})),self[t].moduleMap={}}}("/assets/");var d=s.memo((e=>{const{routes:t}=e;return s.createElement(s.Fragment,null,t.map((({path:e,exact:t=!1,redirect:n,component:r,routes:a=[]})=>s.createElement(o,{key:e,path:e,exact:!!t,render:()=>n?s.createElement(c,{key:e,to:n}):s.createElement(s.Fragment,null,r?s.createElement(r,{routes:a}):"404")}))))}));const h=e=>{const{title:t,explain:n,rightSlot:r,content:a,style:o={},noTitlePadding:c=!1,covered:i=!1,className:m,onClick:u,appear:p,defaultExtended:d}=e,[h,f]=s.useState("0px"),E=s.useRef({}),g=s.useRef({});s.useLayoutEffect((()=>{if(p){const e=(e=>{let t=null;return t=window.getComputedStyle?window.getComputedStyle(e,null):e.currentStyle,t})(E.current).height;d||(E.current.style.height="0px"),f(e)}}),[p,d]);const y={};i&&(y.width="100%");const v={};return p&&(v.cursor="pointer"),t&&!c&&(v.paddingBottom="30px"),s.createElement("div",{className:"aui-card"+(m?` ${m}`:""),onClick:u,ref:g,style:l(l({},o),y)},t?s.createElement("div",{className:"aui-card-title",style:v,onClick:p?()=>{"0px"===E.current.style.height?(E.current.style.height=h,g.current.classList.add("show")):(E.current.style.height="0px",g.current.classList.remove("show"))}:()=>null},s.createElement("h3",null,t," ",n?s.createElement("span",null,n):null),r?s.createElement("div",{className:"slot"},r):null,p&&s.createElement("span",{className:"appear-icon"},"↓")):null,s.createElement("div",{className:"aui-card-content",ref:E},a))},f=31536e6,E=(e,t,n)=>{const r=[`${e}=${decodeURIComponent(t)}`];if(n){const e=new Date;e.setTime(e.getTime()+(void 0===n.expire?f:n.expire)),r.push(`expires=${e.toUTCString()}`),n.path&&r.push(`path=${n.path}`),n.secure&&r.push("secure=true"),n.domain&&r.push(`domain=${n.domain}`)}document.cookie=r.join(";")},g={expire:void 0,path:"/",secure:!1,domain:document.domain,prefix:""};g.domain="nanzc.com";const y=new class{constructor(e,t){this.option={expire:g.expire,path:g.path,secure:g.secure,domain:g.domain},this.prefix=g.prefix,this._name=e,"number"==typeof t?this.option.expire=t:t&&(void 0!==t.prefix&&(this.prefix=t.prefix),this.option=l(l({},this.option),t))}get name(){return"function"==typeof this.prefix?this.prefix(this._name):(this.prefix||"")+this._name}get(){return(e=>{const t=`${e}=`,{cookie:n}=document,r=n.length;let a;do{if(a=n.indexOf(t,a),-1===a)break;if(0===a||" "===n[a-1]){let e=n.indexOf(";",a+t.length);return-1===e&&(e=r),decodeURIComponent(n.substring(a+t.length,e))}a+=t.length}while(a<r);return""})(this.name)}set(e,t){E(this.name,e,void 0===t?this.option:l(l({},this.option),{expire:t}))}remove(){var e;e=this.name,document.cookie=`${e}=;expires=${new Date(0)}`}}("token"),v=i.create({baseURL:"./"}),x=e=>{const{status:t}=e.response,n=e;switch(t){case 400:n.message="请求错误";break;case 401:n.message="未授权，请登录",y.remove();break;case 403:n.message="拒绝访问";break;case 404:n.message=`请求地址出错: ${e.response.config.url}`;break;case 408:n.message="请求超时";break;case 500:n.message="服务器内部错误";break;case 501:n.message="服务未实现";break;case 502:n.message="网关错误";break;case 503:n.message="服务不可用";break;case 504:n.message="网关超时";break;case 505:n.message="HTTP版本不受支持"}return Promise.reject(e)};v.interceptors.request.use((e=>(e.headers.authorization=y.get(),e)),x),v.interceptors.response.use((e=>(e.headers.authorization&&y.set(e.headers.authorization),e)),x);const b=[{path:"/",exact:!0,component:()=>{const[e,t]=s.useState([]),[n,r]=s.useState(""),a=s.useMemo((()=>Array.from(new Set(e.map((e=>e.prefix))))),[e]),l=s.useMemo((()=>e.filter((e=>e.prefix===n))),[n,e]);return s.useLayoutEffect((()=>{v.get("/api/docs").then((e=>{var n;t(e.data||[]),r((null==(n=e.data)?void 0:n[0].prefix)||"")}))}),[]),s.createElement("div",{className:"home"},s.createElement("div",{className:"body"},s.createElement("div",{className:"main"},l.map(((e,t)=>{var n,r;return s.createElement(h,{key:e.name,style:{marginTop:t?20:0},covered:!0,title:e.url,explain:e.comment,rightSlot:s.createElement("span",{className:`tag ${e.method}`},e.method),noTitlePadding:!(null==(n=Object.keys(e.ruleDict))?void 0:n.length),content:s.createElement("div",{className:"interface-item"},(null==(r=Object.keys(e.ruleDict))?void 0:r.length)?s.createElement(s.Fragment,null,s.createElement("table",null,s.createElement("thead",null,s.createElement("tr",null,s.createElement("th",null,"key"),s.createElement("th",null,"type"),s.createElement("th",null,"location"),s.createElement("th",null,"required"),s.createElement("th",null,"default"),s.createElement("th",null,"enum"))),Object.keys(e.ruleDict).map((t=>{var n;const r=e.ruleDict[t];return s.createElement("tr",{key:t},s.createElement("td",null,t),s.createElement("td",null,r.type),s.createElement("td",null,r.location),s.createElement("td",null,r.required?"true":"false"),s.createElement("td",null,r.default),s.createElement("td",null,null==(n=r.enum)?void 0:n.join(",")))})))):null)})}))),s.createElement("nav",{className:"side"},a.map((e=>s.createElement("div",{className:"menu-item"+(n===e?" current":""),key:e,onClick:()=>r(e)},e))))))}}];m.render(s.createElement(s.StrictMode,null,s.createElement(u,null,s.createElement(p,null,s.createElement(d,{routes:b})))),document.getElementById("root"));
